# ğŸ’¡**ë¬¸ì œ ë¶„ì„ ìš”ì•½**

ì…ë ¥

`T`: í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ ìˆ˜

`m` : ê°€ë¡œê¸¸ì´

`n` : ì„¸ë¡œê¸¸ì´

`k` : ë°°ì¶” ê°œìˆ˜

ì¶œë ¥

ê° í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ì˜ ì—°ê²° ìš”ì†Œì˜ ê°œìˆ˜

# ğŸ’¡**ì•Œê³ ë¦¬ì¦˜ ì„¤ê³„**

- ì…ë ¥ê°’ ë°›ê¸°
- ë…¸ë“œ ìœ„ì¹˜ ë°›ê¸°
- dfs ëŠ” ìŠ¤íƒìœ¼ë¡œ êµ¬í˜„
- ë°©ë¬¸í•œ ë…¸ë“œê°€ ì•„ë‹Œ ê²½ìš°, dfs ë¥¼ êµ¬í˜„í•˜ì—¬ countê°’ì„ ì¦ê°€ì‹œí‚¤ë©´, count ê°’ = ì—°ê²° ìš”ì†Œì˜ ê°œìˆ˜ ì´ë‹¤



# ğŸ’¡ì½”ë“œ

```java
package week2.day4;

import java.io.*;
import java.util.*;

public class P1012{
  static BufferedReader bf = new BufferedReader(new InputStreamReader(System.in));
  static StringBuilder sb = new StringBuilder();
  static int [] dx = {0,0,1,-1};
  static int [] dy = {1,-1,0,0};

  public static void main(String[] args) throws Exception{
    int T = Integer.parseInt(bf.readLine());
    while(T-- > 0){
      StringTokenizer st = new StringTokenizer(bf.readLine());
      int m = Integer.parseInt(st.nextToken());//ê°€ë¡œ ê¸¸ì´
      int n = Integer.parseInt(st.nextToken());//ì„¸ë¡œ ê¸¸ì´
      int k = Integer.parseInt(st.nextToken());//ë°°ì¶” ìœ„ì¹˜ ê°œìˆ˜

      //ì´ˆê¸°í™”
      int [][] nod = new int[n][m];//ì„¸ë¡œ , ê°€ë¡œ
      boolean [][] visited = new boolean[n][m];

      for (int i = 0 ; i < n; i++){
        nod[i] = new int[m];
        visited[i] = new boolean[m];
      }
      for (int j =0; j< k;j++){//ë°°ì¶” ê°œìˆ˜ë§Œí¼ forë¬¸ ë°˜ë³µ
          st = new StringTokenizer(bf.readLine());
          int v1 = Integer.parseInt(st.nextToken());
          int v2 = Integer.parseInt(st.nextToken());

          nod[v2][v1] = 1;
      }

      int count = 0;
      for (int i= 0; i<n;i++){
        for (int j=0;j<m ;j++){
          if (!visited[i][j] && nod[i][j] ==1)
          {
            dfs(n,m,nod, visited, i,j);
            count++;
          }
        }
      }

      sb.append(Integer.toString(count)+"\n");

    }

    System.out.println(sb);

  }
  private static void dfs(int n, int m, int [][] nod, boolean [][] visited, int i, int j){//ìŠ¤íƒìœ¼ë¡œ êµ¬í˜„í•´ë³´ê¸°
    Stack<int[]> stack = new Stack<>();
    stack.push(new int[] {i,j});
    visited[i][j] = true;
    while(!stack.isEmpty()){
      int[] top = stack.peek();
      boolean flag = false;
      for (int p=0; p<4;p++){//ìƒí•˜ì¢Œìš° ì²´í¬

        int x = dx[p]+top[0];//ì„¸ë¡œ ì¢Œí‘œ
        int y = dy[p]+top[1];//ê°€ë¡œ ì¢Œí‘œ

        if (x >= 0 && y >= 0 && x < n && y < m && !visited[x][y] && nod[x][y] == 1)
        {
          visited[x][y] = true;
          stack.push(new int[] {x,y});
          flag = true;
          break;
        }
      }
      if (!flag)
        stack.pop();
    }
  }
}
```

# ğŸ’¡ì‹œê°„ë³µì¡ë„

T(n) = O(nm) x O(n+e) = O(n^2)

# ğŸ’¡Â í‹€ë¦° ì´ìœ 

ê°€ë¡œ ê¸¸ì´ â‰  ì„¸ë¡œ ê¸¸ì´ ì—¬ì„œ dfs í•¨ìˆ˜ë¥¼ êµ¬í˜„í• ë•Œ,

ê°€ë¡œ ì¸ë±ìŠ¤ì™€ ì„¸ë¡œ ì¸ë±ìŠ¤ê°€ í—·ê°ˆë ¸ë‹¤.

# ğŸ’¡Â í‹€ë¦° ì´ìœ  or ë‹¤ë¥¸í’€ì´

- dfs ìŠ¤íƒ í’€ì´ ì´ì§€ë§Œ ì¡°ê¸ˆ ë‹¤ë¥¸
```java
static void DFS(int x, int y) {
		stack.add(new Node(x, y));
		visit[y][x] = true;
		
		while( !stack.isEmpty() ) {
			Node node = stack.pop();
			
			for(int i=0; i<4; i++) {
				nowX = node.x + dirX[i];
				nowY = node.y + dirY[i];
				
				if( Range_check() && visit[nowY][nowX] == false && map[nowY][nowX] == 1) {
					stack.push(new Node(nowX, nowY));
					visit[nowY][nowX] = true;
				}
			}	
		}
	}
	
	static boolean Range_check() {
		return (nowX < M && nowY < N && nowX >= 0 && nowY >= 0);
	}
```
`
ë‚˜ëŠ” boolean flag ë¥¼ ì‚¬ìš©í–ˆëŠ”ë° ìœ„ í’€ì´ì—ì„œëŠ” ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë‹¤. `

- bfs ì‚¬ìš© í’€ì´

```java
static void BFS(int x, int y) {
    que.offer(new Node(x, y));
    visit[y][x] = true;

    while( !que.isEmpty() ) {
        Node node = que.poll();

        for(int i=0; i<4; i++) {
            now_x = node.x + dirX[i];
            now_y = node.y + dirY[i];

            if(Range_check() && visit[now_y][now_x] == false && map[now_y][now_x] == 1) {           
                que.offer(new Node(now_x, now_y));
                visit[now_y][now_x] = true;
            }

        }
    }
}

public static boolean Range_check() {
    return (now_x >= 0 && now_x < M && now_y >= 0 && now_y < N);
}	
```

- dfs ì¬ê·€ ì‚¬ìš©

```java
public static void DFS(int x, int y) {
		visit[y][x] = true;

		for(int i=0; i<4; i++) {
			now_x = x + dirX[i];
			now_y = y + dirY[i];

			if(Range_check() && visit[now_y][now_x] == false && map[now_y][now_x] == 1) {
				DFS(now_x, now_y);
			}

		}
	}

static boolean Range_check() {
    return (now_y < N && now_y >= 0 && now_x < M && now_x >= 0);
}
```

# ğŸ’¡Â ëŠë‚€ì  or ê¸°ì–µí• ì •ë³´

`P11724  + P2667 ì„ ì„ì€ ë¬¸ì œ`
ë¼ê³  ìƒê°í–ˆë‹¤.


[[Java] ë°±ì¤€ 1012ë²ˆ [ìœ ê¸°ë† ë°°ì¶”] ìë°”](https://velog.io/@lifeisbeautiful/Java-ë°±ì¤€-1012ë²ˆ-ìœ ê¸°ë†-ë°°ì¶”-ìë°”)